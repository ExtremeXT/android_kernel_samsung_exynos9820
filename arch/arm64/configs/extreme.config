# # ExtremeKernel config file
# This file gets merged with the device-specific defconfig on kernel compilation
# Kernel defconfigs are left stock with minimal edits while this file includes all of the major modifications done to the kernel config

# Set custom kernel version
CONFIG_LOCALVERSION="-ExtremeKernel-S10-v0"
# CONFIG_LOCALVERSION_AUTO is not set

# BPF add-ons for newer Android versions
CONFIG_BPF_JIT=y
CONFIG_BPF_JIT_ALWAYS_ON=y
CONFIG_DM_SNAPSHOT=y
CONFIG_DUMMY=y

# Enable CGroup support
CONFIG_BLK_CGROUP=y
CONFIG_CFQ_GROUP_IOSCHED=y
CONFIG_BFQ_GROUP_IOSCHED=y

# Enable BinderFS
CONFIG_ANDROID_BINDERFS=y

# Enable IncrementalFS
CONFIG_INCREMENTAL_FS=y

# Enable OverlayFS
CONFIG_OVERLAY_FS=y

# Enable Samsung Memory Management additions
CONFIG_SEC_MM=y

# Disable CGroup pressure (https://github.com/aosp-mirror/kernel_common/commit/cda79c474cf1d2fc622c265fea75d43ff840afa6)
CONFIG_CMDLINE="cgroup_disable=pressure"
CONFIG_CMDLINE_EXTEND=y

# Disable In-Kernel LMK
# CONFIG_ANDROID_LOW_MEMORY_KILLER is not set

# Enable PSI
CONFIG_PSI=y

# Disable reundant debugging
# CONFIG_SLUB_DEBUG is not set
# CONFIG_KPROBES is not set

# KernelSU
# CONFIG_KSU is not set
# CONFIG_KSU_DEBUG is not set

# Enable misc kernel features
CONFIG_CPU_FREQ_GOV_POWERSAVE=y
CONFIG_CPU_FREQ_GOV_USERSPACE=y
CONFIG_CPU_FREQ_GOV_ONDEMAND=y
CONFIG_CPU_FREQ_GOV_CONSERVATIVE=y
CONFIG_TCP_CONG_WESTWOOD=y
CONFIG_TCP_CONG_HTCP=y
CONFIG_IOSCHED_BFQ=y
CONFIG_IP_NF_TARGET_TTL=y

# Set the minimum block dev loop count to 16 (https://github.com/aosp-mirror/kernel_common/commit/dd5d3e98d0ae393120dfe412cf6b4e5363cec920)
CONFIG_BLK_DEV_LOOP_MIN_COUNT=16

# Enable Switchable SELinux status
# CONFIG_SECURITY_SELINUX_ALWAYS_ENFORCE is not set
# CONFIG_SECURITY_SELINUX_ALWAYS_PERMISSIVE is not set

# Enable R38P1 GPU Driver
# CONFIG_MALI_BIFROST_R32P1 is not set
CONFIG_MALI_BIFROST_R38P1=y

# Enable Wireguard
CONFIG_WIREGUARD=y

# EOF

